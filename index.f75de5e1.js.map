{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nconst thead = document.querySelector('thead tr');\nlet sortOrder = 'asc';\nlet lastSortedColumnIndex = -1;\n\nthead.addEventListener('click', (e) => {\n  const clickedTh = e.target.closest('th');\n\n  const columnIndex = clickedTh.cellIndex;\n  const rows = Array.from(tbody.querySelectorAll('tr'));\n\n  if (columnIndex !== lastSortedColumnIndex) {\n    sortOrder = 'asc';\n  }\n\n  const sortedRows = rows.sort((rowA, rowB) => {\n    const cellA = rowA.querySelectorAll('td')[columnIndex].textContent.trim();\n    const cellB = rowB.querySelectorAll('td')[columnIndex].textContent.trim();\n\n    const cellAHasDigits = hasDigits(cellA);\n    const cellBHasDigits = hasDigits(cellB);\n\n    let comparison = 0;\n\n    if (cellAHasDigits && cellBHasDigits) {\n      comparison = convert(cellA) - convert(cellB);\n    }\n\n    if (!cellAHasDigits && !cellBHasDigits) {\n      comparison = cellA.localeCompare(cellB);\n    }\n\n    return sortOrder === 'asc' ? comparison : -comparison;\n  });\n\n  sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';\n  lastSortedColumnIndex = columnIndex;\n\n  tbody.innerHTML = '';\n\n  sortedRows.forEach((row) => {\n    tbody.appendChild(row);\n  });\n});\n\ntbody.addEventListener('click', (e) => {\n  const clickedRow = e.target.closest('tr');\n\n  if (clickedRow) {\n    tbody.querySelectorAll('tr').forEach((row) => {\n      row.classList.remove('active');\n    });\n\n    clickedRow.classList.add('active');\n  }\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.createElement('form');\n\n  form.classList.add('new-employee-form');\n\n  form.innerHTML = `\n    <label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\" required></label>\n    <label>Position: <input name=\"position\" type=\"text\" data-qa=\"position\" required></label>\n    <label>Office:\n      <select name=\"office\" data-qa=\"office\" required>\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n    </label>\n    <label>Age: <input name=\"age\" type=\"number\" data-qa=\"age\" required></label>\n    <label>Salary: <input name=\"salary\" type=\"number\" data-qa=\"salary\" required></label>\n    <button type=\"submit\">Save to table</button>\n  `;\n\n  document.body.appendChild(form);\n\n  form.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const eeName = form.elements['name'].value.trim();\n    const position = form.elements['position'].value.trim();\n    const office = form.elements['office'].value;\n    const age = form.elements['age'].value;\n    const salary = `$${Number(form.elements['salary'].value).toLocaleString('en-US')}`;\n    const notification = document.createElement('div');\n\n    notification.setAttribute('data-qa', 'notification');\n\n    let valid = true;\n    let errorMessage = '';\n\n    if (eeName.length < 4) {\n      valid = false;\n      errorMessage += 'Name must be at least 4 characters long. ';\n    }\n\n    if (age < 18 || age > 90) {\n      valid = false;\n      errorMessage += 'Age must be between 18 and 90. ';\n    }\n\n    if (position.length < 4) {\n      valid = false;\n      errorMessage += 'Position must be at least 4 characters long. ';\n    }\n\n    if (!valid) {\n      showNotification(errorMessage, true);\n      form.reset();\n\n      return;\n    }\n\n    const newRow = document.createElement('tr');\n\n    newRow.innerHTML = `\n    <td>${eeName}</td>\n    <td>${position}</td>\n    <td>${office}</td>\n    <td>${age}</td>\n    <td>${salary}</td>\n    `;\n\n    tbody.append(newRow);\n    form.reset();\n    showNotification('Employee successfully added to the table!');\n  });\n});\n\ntbody.addEventListener('dblclick', (e) => {\n  const clickedCell = e.target.closest('td');\n\n  if (!clickedCell) {\n    return;\n  }\n\n  if (tbody.querySelector('.cell-input')) {\n    tbody.querySelector('.cell-input').blur();\n  }\n\n  const initialValue = clickedCell.textContent.trim();\n\n  clickedCell.textContent = '';\n\n  const input = document.createElement('input');\n\n  input.type = 'text';\n  input.classList.add('cell-input');\n  input.style.width = `${clickedCell.clientWidth - 40}px`;\n  input.style.boxSizing = 'border-box';\n  input.value = initialValue;\n  clickedCell.appendChild(input);\n  input.focus();\n\n  const saveChanges = () => {\n    const newValue = input.value.trim() || initialValue;\n\n    clickedCell.textContent = newValue;\n  };\n\n  input.addEventListener('blur', () => {\n    saveChanges();\n    input.remove();\n  });\n\n  input.addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      saveChanges();\n      input.remove();\n    }\n  });\n});\n\nfunction convert(value) {\n  return Number(value.replace(/[$,]/g, ''));\n}\n\nfunction hasDigits(str) {\n  return /\\d+/.test(str);\n}\n\nfunction showNotification(message, isError = false) {\n  const notification = document.createElement('div');\n\n  notification.setAttribute('data-qa', 'notification');\n  notification.className = isError ? 'error' : 'success';\n  notification.classList.add('notification');\n\n  const title = document.createElement('h2');\n  const description = document.createElement('p');\n\n  title.classList.add('title');\n  title.textContent = isError ? 'Error' : 'Success';\n  description.textContent = message;\n  notification.append(title, description);\n  document.body.append(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 5000);\n}\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}